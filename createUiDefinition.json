{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Azure.CreateUIDef",
  "version": "0.1.2-preview",
  "parameters": {
    "basics": [
      {
        "name": "instances",
        "type": "Microsoft.Common.DropDown",
        "label": "Number of slaves",
        "defaultValue": "3",
        "toolTip": "One slave ~600rps",
        "constraints": {
          "allowedValues": [
            {
              "label": "1",
              "value": 1
            },
            {
              "label": "2",
              "value": 2
            },
            {
              "label": "3",
              "value": 3
            },
            {
              "label": "5",
              "value": 5
            },
            {
              "label": "10",
              "value": 10
            },
            {
              "label": "15",
              "value": 15
            },
            {
              "label": "20",
              "value": 20
            }
          ],
          "required": true
        },
        "visible": true
      },
      {
        "name": "prefix",
        "type": "Microsoft.Common.TextBox",
        "label": "Prefix (optional)",
        "defaultValue": "",
        "toolTip": "Prefix name for your resources. Please use only lower case and digits. Max 11 chars. If empty some random will be generated.",
        "constraints": {
          "regex": "^[0-9a-z]{5,11}$",
          "validationMessage": "Use only alphanum chars (a-z,0-1)"
        },
        "visible": true
      },
      {
        "name": "locustfile",
        "type": "Microsoft.Common.FileUpload",
        "label": "Locustfile (optional)",
        "toolTip": "Upload locustfile.py. If empty, default will be used. You can chaneg it later.",
        "constraints": {
          "required": false,
          "accept": ".py,text/plain"
        },
        "options": {
          "multiple": false,
          "uploadMode": "file",
          "openMode": "binary",
          "encoding": "UTF-8"
        },
        "visible": true
      }
    ],
    "steps": [],
    "outputs": {
      "location": "[steps('basics').location]",
      "instances": "[steps('basics').instances]",
      "locustfile": "[steps('basics').locustfile]",
      "prefix": "[steps('basics').prefix]"
    }
  }
}